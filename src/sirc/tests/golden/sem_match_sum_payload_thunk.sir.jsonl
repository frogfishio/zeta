{"ir":"sir-v1.0","k":"meta","producer":"sirc","unit":"u0","ext":{"features":["fun:v1","adt:v1","sem:v1"]}}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:3:33","file":"sem_match_sum_payload_thunk.sir","line":3,"col":33,"text":"type OptI32 = sum{None, Some:i32}"}
{"ir":"sir-v1.0","k":"type","id":"prim:i32","kind":"prim","prim":"i32","loc":{"line":3,"col":33,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:3:33"}
{"ir":"sir-v1.0","k":"type","id":"sum{None,Some:prim:i32}","kind":"sum","variants":[{"name":"None"},{"name":"Some","ty":"prim:i32"}],"loc":{"line":3,"col":33,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:3:33"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:6:1","file":"sem_match_sum_payload_thunk.sir","line":6,"col":1,"text":"type UseFun = fun(UseSig)"}
{"ir":"sir-v1.0","k":"type","id":"fn(prim:i32)->prim:i32","kind":"fn","params":["prim:i32"],"ret":"prim:i32","loc":{"line":6,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:6:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:6:25","file":"sem_match_sum_payload_thunk.sir","line":6,"col":25,"text":"type UseFun = fun(UseSig)"}
{"ir":"sir-v1.0","k":"type","id":"fun(fn(prim:i32)->prim:i32)","kind":"fun","sig":"fn(prim:i32)->prim:i32","loc":{"line":6,"col":25,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:6:25"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:8:13","file":"sem_match_sum_payload_thunk.sir","line":8,"col":13,"text":"fn use(x:i32) -> i32"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:8ba23342:0000:0000","tag":"param","type_ref":"prim:i32","fields":{"name":"x"},"loc":{"line":8,"col":13,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:8:13"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:9:19","file":"sem_match_sum_payload_thunk.sir","line":9,"col":19,"text":"  return i32.add(x, 1:i32)"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:68900286:0000:0000","tag":"name","type_ref":"prim:i32","fields":{"name":"x"},"loc":{"line":9,"col":19,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:9:19"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:9:26","file":"sem_match_sum_payload_thunk.sir","line":9,"col":26,"text":"  return i32.add(x, 1:i32)"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:68900286:0000:0001","tag":"const.i32","type_ref":"prim:i32","fields":{"value":1},"loc":{"line":9,"col":26,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:9:26"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:10:1","file":"sem_match_sum_payload_thunk.sir","line":10,"col":1,"text":"end"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0000:0000","tag":"i32.add","fields":{"args":[{"t":"ref","id":"u0:n:68900286:0000:0000"},{"t":"ref","id":"u0:n:68900286:0000:0001"}]},"loc":{"line":10,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:10:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0000:0001","tag":"term.ret","fields":{"value":{"t":"ref","id":"u0:n:6a8e75aa:0000:0000"}},"loc":{"line":10,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:10:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0000:0002","tag":"block","fields":{"stmts":[{"t":"ref","id":"u0:n:6a8e75aa:0000:0001"}]},"loc":{"line":10,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:10:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0000:0003","tag":"fn","type_ref":"fn(prim:i32)->prim:i32","fields":{"name":"use","linkage":"local","params":[{"t":"ref","id":"u0:n:8ba23342:0000:0000"}],"body":{"t":"ref","id":"u0:n:6a8e75aa:0000:0002"}},"loc":{"line":10,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:10:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:14:1","file":"sem_match_sum_payload_thunk.sir","line":14,"col":1,"text":"  let v: OptI32 = adt.make(5:i32) +variant=1 as OptI32"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:9f42b322:0000:0000","tag":"fun.sym","type_ref":"fun(fn(prim:i32)->prim:i32)","fields":{"name":"use"},"loc":{"line":14,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:14:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:9f42b322:0000:0001","tag":"let","fields":{"name":"f","value":{"t":"ref","id":"u0:n:9f42b322:0000:0000"}},"loc":{"line":14,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:14:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:14:33","file":"sem_match_sum_payload_thunk.sir","line":14,"col":33,"text":"  let v: OptI32 = adt.make(5:i32) +variant=1 as OptI32"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:9f42b322:0000:0002","tag":"const.i32","type_ref":"prim:i32","fields":{"value":5},"loc":{"line":14,"col":33,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:14:33"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:15:1","file":"sem_match_sum_payload_thunk.sir","line":15,"col":1,"text":"  return sem.match_sum("}
{"ir":"sir-v1.0","k":"node","id":"u0:n:d5c6a235:0000:0000","tag":"adt.make","type_ref":"sum{None,Some:prim:i32}","fields":{"args":[{"t":"ref","id":"u0:n:9f42b322:0000:0002"}],"flags":{"variant":1}},"loc":{"line":15,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:15:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:d5c6a235:0000:0001","tag":"let","fields":{"name":"v","value":{"t":"ref","id":"u0:n:d5c6a235:0000:0000"}},"loc":{"line":15,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:15:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:17:6","file":"sem_match_sum_payload_thunk.sir","line":17,"col":6,"text":"    v,"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:814a287f:0000:0000","tag":"name","type_ref":"sum{None,Some:prim:i32}","fields":{"name":"v"},"loc":{"line":17,"col":6,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:17:6"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:19:26","file":"sem_match_sum_payload_thunk.sir","line":19,"col":26,"text":"      case 0 -> val 0:i32,"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:29be4fa9:0000:0000","tag":"const.i32","type_ref":"prim:i32","fields":{"value":0},"loc":{"line":19,"col":26,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:19:26"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:21:1","file":"sem_match_sum_payload_thunk.sir","line":21,"col":1,"text":"    ],"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:7f073f6c:0000:0000","tag":"name","type_ref":"fun(fn(prim:i32)->prim:i32)","fields":{"name":"f"},"loc":{"line":21,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:21:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:23:1","file":"sem_match_sum_payload_thunk.sir","line":23,"col":1,"text":"  ) as i32"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:bce4127a:0000:0000","tag":"const.i32","type_ref":"prim:i32","fields":{"value":0},"loc":{"line":23,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:23:1"}
{"ir":"sir-v1.0","k":"src","id":"src:sem_match_sum_payload_thunk.sir:24:1","file":"sem_match_sum_payload_thunk.sir","line":24,"col":1,"text":"end"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0001:0000","tag":"sem.match_sum","type_ref":"prim:i32","fields":{"sum":{"t":"ref","k":"type","id":"sum{None,Some:prim:i32}"},"args":[{"t":"ref","id":"u0:n:814a287f:0000:0000"}],"cases":[{"variant":0,"body":{"kind":"val","v":{"t":"ref","id":"u0:n:29be4fa9:0000:0000"}}},{"variant":1,"body":{"kind":"thunk","f":{"t":"ref","id":"u0:n:7f073f6c:0000:0000"}}}],"default":{"kind":"val","v":{"t":"ref","id":"u0:n:bce4127a:0000:0000"}}},"loc":{"line":24,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:24:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0001:0001","tag":"term.ret","fields":{"value":{"t":"ref","id":"u0:n:6a8e75aa:0001:0000"}},"loc":{"line":24,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:24:1"}
{"ir":"sir-v1.0","k":"type","id":"fn()->prim:i32","kind":"fn","params":[],"ret":"prim:i32","loc":{"line":24,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:24:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0001:0002","tag":"block","fields":{"stmts":[{"t":"ref","id":"u0:n:9f42b322:0000:0001"},{"t":"ref","id":"u0:n:d5c6a235:0000:0001"},{"t":"ref","id":"u0:n:6a8e75aa:0001:0001"}]},"loc":{"line":24,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:24:1"}
{"ir":"sir-v1.0","k":"node","id":"u0:n:6a8e75aa:0001:0003","tag":"fn","type_ref":"fn()->prim:i32","fields":{"name":"main","linkage":"public","params":[],"body":{"t":"ref","id":"u0:n:6a8e75aa:0001:0002"}},"loc":{"line":24,"col":1,"unit":"sem_match_sum_payload_thunk.sir"},"src_ref":"src:sem_match_sum_payload_thunk.sir:24:1"}
